# 1주차. 교재1-10장. 데이터 탐색과 시각화 p.121.~p.202.
	가치 있는 데이터로 만드는 과정. 많은 시간이 소요된다.

## 10-1. 탐색적 데이터 분석 (Exploratory Data Analysis, EDA)
- 가공하지 않은 원천 데이터를 있는 그대로 탐색하고 분석하는 기법.
- 극단적 해석, 지나친 추론, 자의적 해석은 지양해야 함.
- EDA의 주요 목적  
  	1\. 데이터 형태와 척도가 분석에 알맞게 되어있는지(sanity checking)  
  	2\. 평균, 분산, 분포, 패턴 등 확인하여 데이터 특성 파악  
  	3\. 결측값, 이상치 파악 및 보완  
  	4\. 변수 간 관계성 파악  
  	5\. 분석 목적과 방향성 점검 및 보정  

### 1. 엑셀을 활용한 EDA
- 가장 간단하며 효과적인 방법은 샘플 1,000개를 뽑아서 엑셀로 변수 별 살펴보는 것.
- 대략적인 파악 가능
- 피봇Pivot 테이블 통해서 항목별 평균이나 분포 등 확인 가능. 그래프로 직관적으로 볼 수도 있음.
- 적은 데이터 다룰 때 엑셀만큼 효과적인 것은 없음.
  
### 2. 탐색적 데이터 분석 실습
```python
# 패키지 임포트
# 시각화
import seaborn as sns
import matplotlib.pyplot as plt
# 전처리용
import pandas as pd
sns.set(color_codes=True)
%matplotlib inline

# 데이터 불러오기
# https://www.kaggle.com/datasets/jessemostipak/hotel-booking-demand
df = pd.read_csv("datasets/hotel_booking.csv")
# 데이터 샘플 확인
df.head()
# 각 칼럼 속성 및 결측치 확인
# 이 단계에서 숫자형, 문자형 등 올바른지 확인. 그리고 column별 결측치 확인. 표본 제거나 대치 방법 등 사용하여 처리
df.info()
# column별 통계치 확인
# 평균, 표준편차, 최대, 최솟값 등 확인 가능. 숫자형이지만 문자형과 다름없는 데이터는 빈도 등의 방법을 사용해야 함.
df.describe()
# 왜도(skewness) 및 첨도(kurtosis) 확인
# 변수 값 분포에서 정규성이 필요한 경우, 로그변환, 정규화, 표준화 등 방법 사용.
df.skew()
df.kurtosis()

# 특정 변수 분포 시각화
# 확인하려는 column의 분포를 시각화 한다.
sns.distplot(df['lead_time'])
# 그룹(호텔) 구분에 따른 lead_time 분포 시각화
# violinplot은 분포를 효과적으로 표현, stripplot은 각 관측치 위치를 직관적으로 표현해줌. 동시에 사용하여 보다 잘 이해 가능.
sns.violinplot(x="hotel", y="lead time", data=df, inner=None, color=".8")
sns.stripplot(x="hotel", y="lead time", data=df, size=1)
```
## 10-2. 공분산과 상관성 분석
- Y와 X  관계는 물론, X들 사이의 관계도 살펴봐야 한다.  
&nbsp;&nbsp; X변화에 다른 Y 변화량을 크게 하여 통계적 정확도를 감소시키는 다중공선성도 방지 가능.  
&nbsp;&nbsp; 상관 분석 하기 위한 가정은 데이터가 등간이나 비율 척도이며, 두 변수가 선형적 관계라는 것.   

### 1. 공분산(Covariance)
- X<sub>1</sub>의 각 변수와 평균의 차이인 X<sub>1</sub> 편차와  X<sub>2</sub> 편차를 모두 곱해서 더해준 후 전체 개수 n(표본은 n-1)로 나누어준다.
- 두 변수의 공통적인 분산 정도를 알 수 있다.
- 양수는 양의 상관관계, 음수면 음의 상관관계, 0은 상관관계 없음, +1&-1은 직선 관계.
### 2. 상관계수(Correlation coefficient)
- 공분산의 절대적인 크기가 상관성의 정도를 나타내지 못한다. 그래서 공분산을 변수 각각의 표준편차 값으로 나누는 정규화를 통하여 상관성을 비교하기도 함.
- 이 또한 절대적인 기준이 될 수 없어서, 피어슨 상관계수(Pearson)을 주로 사용한다.
&nbsp;&nbsp; 변수의 공분산을 각각의 변수가 변하는 전체 정도로 나눠준 것. 함께 변하는 정도가 전체 변하는 정도를 초과할 수는 없기 때문에 -1에서 1 사이의 값을 가진다.
&nbsp;&nbsp; 일반적인 사회과학에서는 0.7 이상이면 매우 높은 상관관계, 0.4 이상이면 어느정도 상관관계 있다고 판단.
- 뒤에 나오는 회귀분석과도 연관 있다. 상관계수 제곱한 값을 결정계수라 하는데, 총 변동 중에서 회귀선에 의해 설명되는 변동이 차지하는 비율을 뜻함.
- 또한 선형관계만 측정 가능하기 때문에 2차 방정식 그래프와 비슷하 ㄴ모양이 되면 매우 낮게 측정 될 가능성도 있다. 이상치에 의해서도 달라질 수 있음. 상관계수 숫자만 보기보다는 산점도와 함께 보는 것이 좋음.
- 분석 프로그램으로 상관분석 실시하면, 표나 히트맵이 나온다. 동일한 변수끼리는 1이 나오고, 유의확률도 같이 표기됨.
### 3. 공분산과 상관성 분석 실습

## 10-3. 시각화

### 1.0. 시간 시각화
### 1.1. 시간 시각화 실습
### 2.0. 비교 시각화
### 2.1. 비교 시각화 실습
### 3.0. 분포 시각화
### 3.1. 분포 시각화 실습
### 4.0. 관계 시각화
### 4.1. 관계 시각화 실습
### 5.0. 공간 시각화
### 5.1. 공간 시각화 실습
### 6.0. 박스 플롯
### 6.1. 박스 플롯 실습


